apply plugin: 'com.android.library'
apply plugin: 'kotlin-android'

ext {
    libraryVersion = "0.6.2"

    siteUrl = 'https://github.com/wenhuiyao/CoroutinesAdapter' // Homepage URL of the library
    gitUrl = 'https://github.com/wenhuiyao/CoroutinesAdapter.git' // Git repository URL

    publishGroupId = "com.wenhui"  // Maven Group ID for the artifact

    developerId = 'wyao'
    developerName = "Wenhui Yao"
    developerEmail = 'wenhuiyao02@gmail.com'

    pkgRepo = "CoroutinesAdapter"
    pkgName = "com.wenhui:coroutines-adapter"
    pkgDescription = 'Adapter Kotlin coroutines for java usage, can be use in Kotlin as well'
}


android {
    compileSdkVersion 25
    buildToolsVersion "25.0.3"

    defaultConfig {
        minSdkVersion 14
        targetSdkVersion 25
        versionCode 15
        versionName libraryVersion

        testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }

    sourceSets {
        main.java.srcDirs += 'src/main/kotlin'
        test.java.srcDirs += 'src/test/kotlin'
    }
}

dependencies {
    implementation "org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version"
    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:0.16'
    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:0.16'

    testImplementation 'junit:junit:4.12'
    testImplementation 'org.mockito:mockito-core:2.1.0'
    testImplementation "org.robolectric:robolectric:3.3.2"
}

kotlin {
    experimental {
        coroutines "enable"
    }
}


apply from: 'uploadArtifact.gradle'
